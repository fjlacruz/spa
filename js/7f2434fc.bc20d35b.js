(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["7f2434fc"],{"37f9":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"q-pa-xs"}),i("div",{staticClass:"row justify-center"},[i("div",{staticClass:"col-12 col-md-10 q-pa-xs"},[i("q-card",{staticClass:"my-card"},[i("q-card-section",[t._v("Asignar Software a Servidor")]),i("q-form",{attrs:{id:"registrarAsignacion"},on:{submit:function(e){return e.preventDefault(),t.validarExisteSoftware(e)}}},[i("input",{attrs:{type:"hidden",name:"id_servidor"},domProps:{value:t.$route.params.id_servidor}}),i("q-separator",{attrs:{inset:""}}),i("q-card-section",[i("div",{staticClass:"row justify-center"},[i("div",{staticClass:"col-6 col-xs-6 q-pa-xs"},[i("q-input",{attrs:{name:"nombre_servidor",id:"nombre_servidor",filled:"",hint:"Nombre del Servidor",dense:"dense",value:t.formEditar.nombre_servidor,"lazy-rules":"",rules:[function(t){return t&&t.length>0||"Campo Obligatorio"}]},model:{value:t.formEditar.nombre_servidor,callback:function(e){t.$set(t.formEditar,"nombre_servidor",e)},expression:"formEditar.nombre_servidor"}})],1),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formEditar.sf,expression:"formEditar.sf"}],attrs:{type:"hidden"},domProps:{value:t.formEditar.sf},on:{input:function(e){e.target.composing||t.$set(t.formEditar,"sf",e.target.value)}}}),i("div",{staticClass:"col-6 col-xs-6 q-pa-xs"},[i("q-input",{attrs:{name:"ip_servidor",id:"ip_servidor",filled:"",hint:"IP del Servidor",dense:"dense",value:t.formEditar.ip_servidor,"lazy-rules":"",rules:[function(t){return t&&t.length>0||"Campo Obligatorio"}]},model:{value:t.formEditar.ip_servidor,callback:function(e){t.$set(t.formEditar,"ip_servidor",e)},expression:"formEditar.ip_servidor"}})],1)]),i("div",{staticClass:"col-12 col-xs-12 q-pa-xs"},[i("q-select",{attrs:{filled:"",options:t.listar,"option-value":"id_software","option-label":"nombre_software",name:"model",id:"model","emit-value":"","map-options":"",dense:"dense",hint:"Software",rules:[function(t){return t&&t.length>0||"Campo Obligatorio"}]},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),i("input",{attrs:{type:"hidden",name:"id_software",id:"id_software"},domProps:{value:t.model}})],1),t._v(" \n            "),i("q-separator",{attrs:{inset:""}}),t._v(" \n            "),i("div",{staticClass:"col-6 col-xs-6 q-pa-xs"},[i("q-btn",{attrs:{"icon-right":"send",label:"Asignar",type:"submit",color:"primary"}}),t._v(" \n              "),i("q-btn",{attrs:{"icon-right":"cancel",label:"Cancelar",type:"submit",color:"orange",to:"/servidores"}})],1)],1)],1)],1)],1)]),i("div",{staticClass:"row justify-center"},[i("div",{staticClass:"col-12 col-md-10 q-pa-xs"},[i("q-card",{staticClass:"my-card"},[i("q-card-section",[t._v("Software alojados en el Servidor")]),i("q-separator",{attrs:{inset:""}}),""!=t.verificacion?i("q-card-section",[i("table",{staticClass:"q-table"},[i("thead",[i("tr",[i("th",{staticClass:"text-left"},[t._v("Software")]),i("th",{staticClass:"text-left"},[t._v("Tipo")]),i("th",{staticClass:"text-left"},[t._v("Expiracion")]),i("th",{staticClass:"text-left"},[t._v("Estatus")]),i("th",{staticClass:"text-left"},[t._v("Borrar")])])]),t._l(t.listarSoft,(function(e){return i("tbody",{key:e.id_servidor},[i("tr",[i("td",{staticClass:"text-left"},[t._v(t._s(e.nombre_software))]),i("td",{staticClass:"text-left"},[t._v(t._s(e.descripcion_software))]),e.vencimiento>=20?i("td",{staticClass:"text-left"},[i("q-badge",{attrs:{color:"green"}},[t._v(t._s(e.vencimiento)+" Dias")])],1):e.vencimiento<=10?i("td",{staticClass:"text-left"},[i("q-badge",{attrs:{color:"red"}},[t._v(t._s(e.vencimiento)+" Dias")])],1):i("td",{staticClass:"text-left"},[i("q-badge",{attrs:{color:"orange"}},[t._v(t._s(e.vencimiento)+" Dias")])],1),"1"==e.estatus?i("td",{staticClass:"text-left"},[i("q-radio",{attrs:{color:"green"}}),i("q-tooltip",[t._v("Activo")])],1):i("td",{staticClass:"text-left"},[i("q-radio",{attrs:{color:"red"}}),i("q-tooltip",[t._v("Inactivo")])],1),i("td",{staticClass:"text-left"},[i("q-btn",{attrs:{round:"",color:"red",icon:"cancel",size:"xs",href:"#"},on:{click:function(i){return t.eliminar(e.id_servidor_software)}}}),i("q-tooltip",[t._v("Borrar")])],1)])])}))],2)]):i("q-card-section",[t._v("No Posee Software")])],1)],1)])])},a=[],r=i("f312"),s=i("bc3a"),n=i.n(s),d=i("51be"),c=(i("bd4c"),{name:"editar",data:function(){return{formEditar:{},listar:[],listarSoft:[],id_software:"",model:"",estatus:"",sf:"",verificacion:"",id_servidor_software:""}},methods:{getId:function(){var t=this,e=this.$route.params.id_servidor;n.a.get("".concat(d["a"].endpoint,"/api_inventarioit/mantenedores/getServidor?id_servidor=")+e).then((function(e){t.formEditar=e.data.response[0]}))},getSoftwareServidor:function(){var t=this,e=this.$route.params.id_servidor;n.a.get("".concat(d["a"].endpoint,"/api_inventarioit/mantenedores/getServidorSoftware?id_servidor=")+e).then((function(e){t.listarSoft=e.data.response,t.verificacion=e.data.response,console.log(t.verificacion)}))},registrar:function(){var t=this;if("Seleccione"==this.model)this.$q.notify({message:"Seleccione un tipo de sotware",color:"red-5",icon:"warning",position:"bottom-right"});else{var e=document.getElementById("registrarAsignacion");n.a.post("".concat(d["a"].endpoint,"/api_inventarioit/mantenedores/registrar_servidorSoftware"),new FormData(e)).then((function(e){t.respuesta=e.data.response,"success"==t.respuesta?(t.$q.notify({message:"Software Asignado",color:"teal-6",icon:"warning",position:"bottom-right"}),t.getSoftwareServidor()):t.$q.notify({message:"Error en le registro",color:"red-5",icon:"warning",position:"bottom-right"})}))}},eliminar:function(t){var e=this;n.a.post("".concat(d["a"].endpoint,"/api_inventarioit/mantenedores/eliminarAsignacion?id_servidor_software=")+t).then((function(t){e.$q.notify({message:"Asignacion Eliminada",color:"red-5",icon:"warning",position:"bottom-right"}),e.getSoftwareServidor()}))},softwareList:function(){var t=this;n.a.get("".concat(d["a"].endpoint,"/api_inventarioit/mantenedores/getSoftware")).then((function(e){t.listar=e.data.response,t.model="Seleccione"}))},validarExisteSoftware:function(){var t=this,e=new FormData;e.append("model",this.model),e.append("id_servidor",this.$route.params.id_servidor),n.a.post("".concat(d["a"].endpoint,"/api_inventarioit/mantenedores/validarAsignacionSoftware"),e).then((function(e){t.respuesta=e.data.response,console.log(t.respuesta),"success"===e.data.response?(t.$q.notify({message:"Software ya Asignado...!!!",color:"red-5",icon:"warning",position:"bottom-right"}),t.model=""):t.registrar()}))}},created:function(){this.getId(),this.softwareList(),this.getSoftwareServidor()},mixins:[r["a"]]}),l=c,f=i("2877"),v=i("eebe"),m=i.n(v),p=i("f09f"),u=i("a370"),g=i("0378"),_=i("eb85"),h=i("27f9"),w=i("ddd8"),b=i("9c40"),q=i("eaac"),S=i("58a8"),x=i("3786"),C=i("05c0"),y=Object(f["a"])(l,o,a,!1,null,null,null);e["default"]=y.exports;m()(y,"components",{QCard:p["a"],QCardSection:u["a"],QForm:g["a"],QSeparator:_["a"],QInput:h["a"],QSelect:w["a"],QBtn:b["a"],QTable:q["a"],QBadge:S["a"],QRadio:x["a"],QTooltip:C["a"]})},"51be":function(t,e,i){"use strict";e["a"]={endpoint:"http://localhost"}},f312:function(t,e,i){"use strict";e["a"]={created:function(){var t=JSON.parse(this.$q.localStorage.getItem("token"));t||(this.$router.push("/"),this.$q.notify({message:"Estimado Usuario NO se encuentra logueado....!!!",color:"red-5",textColor:"white",icon:"warning",position:"bottom-right"}))}}}}]);